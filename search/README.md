### MyDriver.py

###### Designed for login purpose, managing the cookies

**login_status:** 

- **0**: NOT recommended, possible verification needed when crawling data, causing interruption  
- **1**: Read the stored the cookie file only, NOT for first time usage. If you have a file "Jdcookie.txt" generated by getcookie(), set login_status to 1.
- **2**: Recommended: get and store the cookie for next time usage, this requires to login manually.     


##### Details

1. Can add an option to chrome option reduce loading time by avoid loading pictures.

   ```python
   option.add_experimental_option('prefs',{'profile.managed_default_content_settings.images': 2})
   driver = webdriver.Chrome(options= option)
   ```

2. ```python
   def getcookie(self):
   '''scan the QR code (do 2FA verification) to login mannually, wait until url to be www.jd.com'''
   
   def readcookie(self):
   '''if you have a file "Jdcookie.txt" generated by getcookie(), use this function to login. If you encounter some verification problem when logging in, just do it manually (using passwords or scan the QR code), the browser will wait for you to do so.'''
   
   # in function __init__:  
   if login == 1:
       self.readcookie()
   elif login == 2:
       self.getcookie()
       self.readcookie()
   ```

   More details to be seen in `MyDriver.py`

### SerialSearch.py

##### Parameter Details

- SerialSearch(keyword = "电脑", login_status=1, pagenum=10, no_repeat=1)
  - keyword: the word you want to search in the homepage search box 
  - login_status: As stated above in `MyDriver.py`
  - pagenum: the total page of items you want to get&load
  - no_repeat: avoid repeat
- search.**save_to_excel**(combineURL=1, format='xlsx', filename='jd_serial', sort = 3)
  - combineURL: 
    - 1: generate HYPERLINK in the `Items` column 
    - 0: generate a single URL column like "https://item.jd.com/100077643920.html" with its HYPERLINK attached, and the number in this link is the product ID.
  - format: xlsx or csv
  - filename: the file name, no need to add suffixes like "xlsx"
  - sort: 
    - 1: by price, descending  
    - 2: by price, ascending   
    - 3: by comments, descending  
    - 4: by comments, ascending

### ParallelSearch.py

##### Details

1. Assinging each thread with a specific page in the result pages, combine all the threads into **one** file.

2. Inherit from the previous class `SerialSearch`.
3. Using `Semaphore` and `Lock`to manage the shared memory.

### Existing Unsolved Problem

In each page, there are 60 items, but there are only 30 items loaded when getting the url.

When you manually scroll to the middle, the page automatically load the other half, I've tried to let the scrolling down process as slow as possible or click the `refresh` button, but the other half always didn't load successfully.

Therefore, when I tried **Explicit Wait** to load all the items in a page, the program gives an error.

### jd_search.py

A light weight version

If you do not want the above error to trouble you, just use this python file. This file also cannot load the other half, yet since it uses **Implicit Wait**, there are no bugs when running.

